function makeLookUpLanguage(availableLanguages){return function(languageId){languageId=languageId.toLowerCase();for(var _i=0,availableLanguages_1=availableLanguages;_i<availableLanguages_1.length;_i++){var availableLanguage=availableLanguages_1[_i],parts=availableLanguage.toLowerCase().split("-");while(parts.length){var joined=parts.join("-");if(languageId===joined){return availableLanguage}parts.pop()}}}}function getBrowserLanguages(){var languages=navigator.languages;if(languages&&0<languages.length){return languages}return[navigator.language]}window.OutlineI18n={getBestMatchingLanguage:function getBestMatchingLanguage(available){for(var lookUpAvailable=makeLookUpLanguage(available),_i=0,_a=getBrowserLanguages();_i<_a.length;_i++){var candidate=_a[_i],parts=candidate.split("-");while(parts.length){var joined=parts.join("-"),closest=lookUpAvailable(joined);if(closest){return closest}parts.pop()}}}};